# 7.1 三维空间刚体运动

### 7.1.5 ROSPY API

$$\quad$$**（1）定义空间点和空间向量vector3**

$$\quad$$    与tf相关的python的类，在tf.Transformations这个类中定义。在translation中用元组（tuple）中的（x,y,z）来表示，rotation中用（x,y,z,w）来表示。在这个类当中含有平移、旋转、反射、缩放、剪切、投影、正交化和叠加的三维均匀坐标阵列的库，以及旋转矩阵、欧拉角和四元数的转换。tf.Transformations中常用的函数

python版本

| 编号 | 函数名称 | 函数功能 |
| :---: | :---: | :---: |
| 1 | tfScalar::tfDot\(const Vector3 &v1, const Vector3 &v2\) | 返回均匀随机单位四元数 |
| 2 | tfScalar length\(\) | 计算向量的模 |
| 3 | Vector3 &normalize\(\) | 求与已知向量同方向的单位向量 |
| 4 | tfScalar::tfAngle\(const Vector3 &v1, const Vector3 &v2\) | 计算两个向量的夹角 |
| 5 | tfScale::tfDistance\(const Vector3 &v1, const Vector3 &v2\) | 计算两个向量的距离 |

$$\quad$$**（2）定义四元数Quaternion**

$$\quad$$在tf功能包头文件tf.Transformations中定义了quaternion类，用它来表示在三维空间中一次纯旋转。x,y,z,w分别用 m\_float\[0\]、m\_float\[1\]、m\_float\[2\] 、m\_float\[3\]来表示。Quaternion中常用的函数

python版本

| 编号 | 函数名称 | 函数功能 |
| :---: | :---: | :---: |
| 1 |  | 由欧拉角计算四元数 |
| 2 |  |  |
| 3 |  | 由四元数得到旋转轴 |
| 4 |  | 已知旋转轴和旋转角估计四元数 |
| 5 |  |  |

$$\quad$$**（3）定义旋转矩阵Matrix3\*3**

$$\quad$$tf功能包头文件Matrix3x3.h中定义了Matrix3x3类，用来表三维空间中的旋转，用Vector3 m\_el\[3\]来存储矩阵中的每一行。Matrix3\*3中常用的函数

cpp版本

| 编号 | 函数名称 | 函数功能 |
| :---: | :---: | :---: |
| 1 |  | 通过四元数得到旋转矩阵 |
| 2 |  | 由四元数得到旋转轴 |
| 3 |  | 已知旋转轴和旋转角估计四元数 |



