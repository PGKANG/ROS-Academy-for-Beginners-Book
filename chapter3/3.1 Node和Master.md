# 3.1 Node && Master

### 3.1.1 概念
在ROS的世界里，最小的进程单元就是节点（node）。软件包里的一个可执行文件，在运行之后就成了一个进程(process)，这个进程在ROS中就叫做节点。通常一个节点负责者机器人的某一个单独的功能。

一个ROS程序里有着众多的node，那么如何合理的进行调配、管理这些节点？就要利用节点管理器master, master在整个网络通信架构里相当于一个管家，管理着各种节点。而且只有node在master注册了之后，master才会将其纳入整个ROS程序中。node之间的通信也是先由master进行“牵线”，才能两两的进行点对点通信。当ROS程序启动时，第一步首先启动master，由节点管理器处理依次启动node。具体的启动方法是：



### 3.1.2 启动master和node
* 当我们要启动ROS时，首先输入语句:

		$ roscore

	这时候ROS master就被启动了，同时被启动的还有`rosout`和`parameter server`,其中`rosout`是负责日志输出的一个node，其作用就是告知用户当前系统的状态，包括输出系统的error、warning等等、并且将log记录于日志文件中，`parameter server`即是上文提到过的参数服务器，它并不是一个node，但它非常有用，用于存储一些参数和配置信息。

* 启动完master，接着就开始启动具体的ROS程序--node， node就是一个进程，只不过在ROS它被赋予了专用的名字里叫做node。一个package中有的可执行文件，可执行文件是静态的，当系统执行这些可执行文件，将这些文件加载到内存中，它就成为了动态的node。具体启动node的语句是：

		$ rosrun pkg_name node_name

### 3.1.3 rosrun和rosnode命令
**rosrun命令的详细用法如下**：

	$ rosrun [--prefix cmd] [--debug] pkg_name node_name [ARGS]

rosrun将会寻找PACKAGE下的名为EXECUTABLE的可执行程序，将可选参数ARGS传入。
例如在GDB下运行ros程序：

	$ rosrun --prefix 'gdb -ex run --args' pkg_name node_name


**rosnode命令的详细作用列表如下**：


|    rosnode命令    | 作用 |
| :------:   | :------:           |
| `rosnode list`               |   列出当前运行的node信息 |
| `rosnode info [node_name]`   |  显示出node的详细信息  |
| `rosnode kill [node_name]`   |  结束某个node |
| `rosnode ping`    |   测试连接节点 |
| `rosnode machine `     |  列出在特定机器或列表机器上运行的节点 |
| `rosnode cleanup`| 清除不可到达节点的注册信息|



##### 小结
学完此节我们就应该知道如何启动这些机器人啦。那具体的演示和下面通信架构的其他方面，请看下节内容。
